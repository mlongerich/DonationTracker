# Active Tickets

Current work items and user stories being actively developed.

**How to use:**
- Each ticket is stored in its own file: `TICKET-XXX-descriptive-title.md`
- Use `/memory` to access during Claude Code sessions
- Update ticket status as work progresses
- Link commits to tickets for traceability

---

## Ticket Index

### âœ… Completed Tickets

*Completed tickets moved to [completed/](completed/) folder.*

- [TICKET-001: Donor Soft Delete with Archive/Restore](completed/TICKET-001-donor-soft-delete-archive-restore.md) - âœ… Complete (2025-10-07)
- [TICKET-002: Stripe CSV Donor Import via CLI (Iteration 1)](completed/TICKET-002-stripe-csv-donor-import.md) - âœ… Complete (2025-10-07)
- [TICKET-003: Hide Auto-Generated Emails in Donor Display](completed/TICKET-003-hide-auto-generated-emails.md) - âœ… Complete (2025-10-07)
- [TICKET-004: Manual Donor Merge with Field Selection](completed/TICKET-004-manual-donor-merge-field-selection.md) - âœ… Complete (2025-10-15)
- [TICKET-006: Simple Donation Entry](completed/TICKET-006-simple-donation-entry.md) - âœ… Complete (2025-10-15)
- [TICKET-007: Donation List History View](completed/TICKET-007-donation-list-history-view.md) - âœ… Complete (2025-10-15)
- [TICKET-009: Project-Based Donations](completed/TICKET-009-project-based-donations.md) - âœ… Complete (2025-10-19)
- [TICKET-010: Children & Basic Sponsorship Tracking](completed/TICKET-010-children-basic-sponsorship-tracking.md) - âœ… Complete (2025-10-22)
- [TICKET-013: Fix Docker Frontend Infrastructure Issues](completed/TICKET-013-fix-docker-frontend-infrastructure.md) - âœ… Complete (2025-10-08)
- [TICKET-014: Refactor Donor Merge Service Pattern Consistency](completed/TICKET-014-refactor-donor-merge-service-pattern-consistency.md) - âœ… Complete (2025-10-15)
- [TICKET-015: Donation List Pagination](completed/TICKET-015-donation-list-pagination.md) - âœ… Complete (2025-10-17)
- [TICKET-016: Donation List Filtering & Date Range](completed/TICKET-016-donation-list-filtering.md) - âœ… Complete (2025-10-18)
- [TICKET-017: Replace Donor Dropdown with Autocomplete Search](completed/TICKET-017-donor-autocomplete-search.md) - âœ… Complete (2025-10-16)
- [TICKET-020: Consistent Material-UI Styling for DonationForm](completed/TICKET-020-donation-form-material-ui-styling.md) - âœ… Complete (2025-10-20)
- [TICKET-023: Donation List Donor Filter](completed/TICKET-023-donation-list-donor-filter.md) - âœ… Complete (2025-10-18)
- [TICKET-025: Standardize Form Input Sizing Across Application](completed/TICKET-025-standardize-form-input-sizing.md) - âœ… Complete (2025-10-24)
- [TICKET-028: Extract Controller Concerns for Pagination/Filtering](completed/TICKET-028-extract-controller-concerns-pagination-filtering.md) - âœ… Complete (2025-10-18)
- [TICKET-029: Implement Presenter Pattern for API Responses](completed/TICKET-029-implement-presenter-pattern-api-responses.md) - âœ… Complete (2025-10-18)
- [TICKET-030: Refactor App.tsx into Multi-Page Architecture](completed/TICKET-030-refactor-app-multi-page-architecture.md) - âœ… Complete (2025-10-20)
- [TICKET-031: Extract DonorAutocomplete Shared Component](completed/TICKET-031-extract-donor-autocomplete-shared-component.md) - âœ… Complete (2025-10-18)
- [TICKET-032: Create Custom Hooks Library](completed/TICKET-032-create-custom-hooks-library.md) - âœ… Complete (2025-10-29)
- [TICKET-035: Add Database Indexes for Query Performance](completed/TICKET-035-add-database-indexes-query-performance.md) - âœ… Complete (2025-10-22)
- [TICKET-038: Define Cascade Delete Strategy for Donations](completed/TICKET-038-define-cascade-delete-strategy-donations.md) - âœ… Complete (2025-10-24)
- [TICKET-044: Extract Shared TypeScript Types](completed/TICKET-044-extract-shared-typescript-types.md) - âœ… Complete (2025-10-19)
- [TICKET-047: Consistent Material-UI Card Styling for Lists](completed/TICKET-047-list-styling-standardization.md) - âœ… Complete (2025-10-20)
- [TICKET-054: Add Create Sponsorship Form to Sponsorships Page](completed/TICKET-054-create-sponsorship-from-sponsorships-page.md) - âœ… Moved to TICKET-010
- [TICKET-056: Sponsorship Business Logic & Validation](completed/TICKET-056-sponsorship-business-logic-validation.md) - âœ… Complete (2025-10-22)
- [TICKET-057: Children Page Multi-Sponsor Display](completed/TICKET-057-children-page-multi-sponsor-display.md) - âœ… Complete (2025-10-22)
- [TICKET-060: Extract SponsorshipPresenter Pattern](completed/TICKET-060-sponsorship-presenter-pattern.md) - âœ… Complete (2025-10-22)
- [TICKET-061: Fix Children Page N+1 Query Problem](completed/TICKET-061-fix-children-page-n-plus-1-query.md) - âœ… Complete (2025-10-22)
- [TICKET-062: Donor Cascade Delete Strategy](completed/TICKET-062-donor-cascade-delete-strategy.md) - âœ… Complete (2025-10-28)
- [TICKET-063: Archive Business Logic for Active Sponsorships](completed/TICKET-063-archive-business-logic-active-sponsorships.md) - âœ… Complete (2025-10-29)
- [TICKET-064: Smart Sponsorship Detection & Auto-Creation](completed/TICKET-064-smart-sponsorship-detection-donation-form.md) - âœ… Complete (2025-10-31)
- [TICKET-065: Move Business Logic to Backend](completed/TICKET-065-move-business-logic-to-backend.md) - âœ… Complete (2025-10-31)
- [TICKET-050: Children Page Search & Pagination](completed/TICKET-050-children-page-ui-standardization.md) - âœ… Complete (2025-11-03)
- [TICKET-070: Stripe CSV Import Foundation](completed/TICKET-070-stripe-csv-import-foundation.md) - âœ… Complete (2025-11-02)
- [TICKET-066: Extract useChildren Custom Hook](completed/TICKET-066-extract-use-children-hook.md) - âœ… Complete (2025-11-04)
- [TICKET-067: Standardize API Response Wrapping with Presenters](completed/TICKET-067-standardize-presenter-responses.md) - âœ… Complete (2025-11-04)
- [TICKET-068: Global Error Handling in ApplicationController](completed/TICKET-068-global-error-handling.md) - âœ… Complete (2025-11-04)
- [TICKET-069: Code Quality Cleanup (Linter Warnings Batch)](completed/TICKET-069-code-quality-cleanup-batch.md) - âœ… Complete (2025-11-04)
- [TICKET-078: Fix Donation Filter Race Condition](completed/TICKET-078-fix-donation-filter-race-condition.md) - âœ… Complete (2025-11-05)
- [TICKET-079: Project CRUD E2E Tests + Bug Fixes](completed/TICKET-079-project-crud-e2e-tests.md) - âœ… Complete (2025-11-05)
- [TICKET-005: Auto-Reassign Donations After Donor Merge](completed/TICKET-005-auto-reassign-donations-after-merge.md) - âœ… Complete (2025-11-05)
- [TICKET-036: Implement React Error Boundary](completed/TICKET-036-implement-react-error-boundary.md) - âœ… Complete (2025-11-05)
- [TICKET-042: Add Class-Level Documentation Comments](completed/TICKET-042-add-class-documentation-comments.md) - âœ… Complete (2025-11-06)
- [TICKET-024: Separate Test and Development Database Environments](completed/TICKET-024-separate-test-dev-environments.md) - âœ… Complete (2025-11-06)
- [TICKET-052: Improve Sponsorship Donation Linking UX](completed/TICKET-052-improve-sponsorship-donation-linking.md) - âœ… Complete (2025-11-11)

### ğŸ”µ In Progress Tickets

### â¸ï¸ Blocked Tickets

### â¸ï¸ Deferred - Accepted Risk

- [TICKET-049: Child Model Soft Delete with Archive/Restore](TICKET-049-child-soft-delete-archive-restore.md) - â¸ï¸ Deferred (Frontend protection sufficient, backend API risk accepted)

### âŒ Canceled Tickets

*Tickets that were planned but decided against implementing.*

- [TICKET-041: Add Test Coverage for API Client Methods](canceled/TICKET-041-api-client-test-coverage.md) - âŒ Canceled (2025-11-07) - E2E tests provide sufficient coverage, existing Jest mocks adequate for unit testing HTTP layer

### ğŸ“‹ Planned Tickets

#### Feature Development
- [TICKET-008: Basic Authentication with Google OAuth](TICKET-008-basic-authentication-google-oauth.md) - ğŸ“‹ Planned
- [TICKET-011: Recurring Donation Tracking](TICKET-011-recurring-donation-tracking.md) - ğŸ“‹ Planned
- [TICKET-012: Stripe Webhook Integration](TICKET-012-stripe-webhook-integration.md) - ğŸ“‹ Planned
- [TICKET-018: Fix Donation Amount Decimal Formatting](TICKET-018-donation-amount-decimal-formatting.md) - ğŸ“‹ Planned
- [TICKET-019: Multi-Page Architecture with React Router](TICKET-019-multi-page-architecture-react-router.md) - ğŸ“‹ Planned
- [TICKET-021: Quick Entity Creation (Donor/Project/Child) from Donation Page](TICKET-021-quick-entity-creation-from-donation-page.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, L) - *Inline modal creation*
- [TICKET-022: Anonymous Donation Support](TICKET-022-anonymous-donation-support.md) - ğŸ“‹ Planned
- [TICKET-046: Add Project Filter to Donations Page](TICKET-046-donation-list-project-filter.md) - ğŸ“‹ Planned
- [TICKET-085: Donation Source & Payment Method Tracking](TICKET-085-donation-source-payment-method-tracking.md) - ğŸ“‹ Planned (ğŸ”´ High, M) - *Stripe/check/cash/bank transfer*
- [TICKET-086: Delete Donation Within 24-Hour Window](TICKET-086-delete-donation-24-hour-window.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, S) - *Quick error correction*
- [TICKET-087: Donor Bulk Operations](TICKET-087-donor-bulk-operations.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, M) - *Archive/restore/export multiple donors*
- [TICKET-088: Donor Export to CSV/Excel](TICKET-088-donor-export-csv-excel.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, S) - *Single export button*
- [TICKET-089: Archived Donor Donation Visibility Policy](TICKET-089-archived-donor-donation-visibility.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, S) - *Business rule + indicator*
- [TICKET-090: Fix Cypress in Docker (Alpine ARM64)](TICKET-090-fix-cypress-docker-alpine-arm64.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, M) - *Switch to Debian base image*
- [TICKET-091: Admin Page with CSV Import GUI](TICKET-091-admin-page-csv-import-gui.md) - ğŸ“‹ Planned (ğŸ”´ High, M) - *CSV import via web interface*

#### Stripe Integration

**â­ PERMANENT (Production Code):**
- [TICKET-076: Failed Stripe Payments Tracking](TICKET-076-failed-stripe-payments-tracking.md) - ğŸ“‹ Planned (ğŸ”´ High, M) - *Track failed/refunded payments from CSV + webhooks*

**ğŸ—‘ï¸ TEMPORARY (One-Time Use):**
- [TICKET-071: Stripe CSV Batch Import Task](TICKET-071-stripe-csv-batch-import-task.md) - ğŸŸ¡ Blocked - Pending User Testing (ğŸ”´ High, M) - *Throwaway: delete after CSV import*
- [TICKET-072: Import Error Recovery UI](TICKET-072-import-error-recovery-ui.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, M) - *Optional: skip if <10 failures*

**POST-MVP (Future Enhancements):**
- [TICKET-026: Stripe Webhook Integration](TICKET-026-stripe-import-webhook-integration.md) - ğŸ“‹ Planned Post-MVP (ğŸŸ¢ Low, M) - *Real-time sync after MVP launch*
- [TICKET-027: Stripe Description Mapping Management](TICKET-027-stripe-description-mapping-management.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, S) - *Admin UI for mapping rules*

#### Sponsorship & Children Features
- [TICKET-048: Stripe Sponsorship & Child Extraction](TICKET-048-stripe-sponsorship-child-extraction.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, M)
- [TICKET-051: Add Project Type Sort/Filter to Projects Page](TICKET-051-project-page-type-sort-filter.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, S)
- [TICKET-053: Sponsorships Page Filters & Pagination UI](TICKET-053-sponsorships-page-filters-pagination-ui.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, M)
- [TICKET-055: Sponsorship Management Actions](TICKET-055-sponsorship-reactivate-delete-actions.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, S)
- [TICKET-058: Donor Sponsorship List Endpoint](TICKET-058-donor-sponsorship-list-endpoint.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, S)
- [TICKET-059: Child Info Display on Donation Pages](TICKET-059-child-info-display-donation-pages.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, S)
- [TICKET-061: Auto-Create Sponsorship from Donation](TICKET-061-auto-create-sponsorship-from-donation.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, M)
- [TICKET-077: Last Donation Date Tracking](TICKET-077-last-donation-date-tracking.md) - ğŸ“‹ Planned (ğŸ”´ High, M) - *Show last donation date for donors, children, sponsorships*
- [TICKET-092: Child Name+Gender Uniqueness Validation](TICKET-092-child-name-gender-uniqueness-validation.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, S) - *Prevent duplicate children*
- [TICKET-093: Project Icons on Projects Page](TICKET-093-project-icons-on-projects-page.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, XS) - *Visual clarity*

#### Testing & Quality Assurance

**E2E Test Coverage:**
- [TICKET-080: Sponsorship Management E2E Tests](TICKET-080-sponsorship-management-e2e-tests.md) - ğŸ“‹ Planned (ğŸ”´ High, L) - *End/reactivate/delete actions + filters*
- [TICKET-081: Donor Archive/Restore Extended E2E Tests](TICKET-081-donor-archive-restore-extended-e2e-tests.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, S) - *Data preservation validation*
- [TICKET-082: Smart Sponsorship Detection E2E Tests](TICKET-082-smart-sponsorship-detection-e2e-tests.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, M) - *Auto-creation workflows*
- [TICKET-083: Multi-Page Integration E2E Tests](TICKET-083-multi-page-integration-e2e-tests.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, S) - *State persistence + cross-page workflows*
- [TICKET-084: Error Handling & Form Validation E2E Tests](TICKET-084-error-handling-validation-e2e-tests.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, M) - *Validation + API errors*

#### Code Quality & Architecture Improvements

**Medium Priority:**
- [TICKET-034: Create Query Objects for Complex Database Queries](TICKET-034-create-query-objects-complex-database-queries.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, M) - *Updated with ChildrenController example*
- [TICKET-037: Standardize Service Object Patterns](TICKET-037-standardize-service-object-patterns.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, S) - *Updated with .call interface*
- [TICKET-033: Implement Policy Objects for Authorization](TICKET-033-implement-policy-objects-authorization.md) - ğŸ“‹ Planned (ğŸŸ¡ Medium, M)

**Low Priority:**
- [TICKET-039: Add Donation Status Enum Validation](TICKET-039-add-donation-status-enum-validation.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, S)
- [TICKET-040: Implement Context API for Donor/Donation State](TICKET-040-implement-context-api-donor-donation-state.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, L)
- [TICKET-043: Refine Controller Concerns Implementation](TICKET-043-refine-controller-concerns-implementation.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, S)
- [TICKET-045: Refactor DonorImportService Complexity](TICKET-045-refactor-donor-import-service-complexity.md) - ğŸ“‹ Planned (ğŸŸ¢ Low, M)

---

## Quick Stats

- **Total Tickets:** 93
- **Completed:** 45 (48%)
- **In Progress:** 0
- **Planned:** 45
- **Estimated Hours Remaining:** ~163 hours (~4.0 weeks)
- **Blocked:** 1
- **Deferred/Accepted Risk:** 1
- **Canceled:** 1

### By Category

- **Feature Development:** 16 planned (~64h), 10 completed
- **Stripe Integration:** 4 planned (~22h), 1 completed
  - **PERMANENT:** âœ… TICKET-070 (core service - complete), TICKET-076 (failed payments tracking - planned)
  - **TEMPORARY:** TICKET-071 (batch import - blocked on user testing), TICKET-072 (error UI - optional)
  - **POST-MVP:** TICKET-026 (webhooks - post-MVP), TICKET-027 (mapping UI - future)
- **Sponsorship & Children Features:** 10 planned (~30h), 8 completed
- **Testing & Quality Assurance:** 6 planned (19h), 0 completed
- **Code Quality & Architecture:** 6 planned (~30h), 27 completed
- **In Progress:** 0
- **Blocked:** 1 (TICKET-071)
- **Deferred/Accepted Risk:** 1 (TICKET-049)
- **Canceled:** 1 (TICKET-041)

### Code Lifecycle Guide

**PERMANENT CODE (Keep Forever):**
- âœ… TICKET-070: `StripePaymentImportService` - Core donation processing (reused by webhooks) - **COMPLETE**
- ğŸ“‹ TICKET-026: `Webhooks::StripeController` - Production webhook endpoint - **PLANNED**

**TEMPORARY CODE (Delete After CSV Import):**
- ğŸŸ¡ TICKET-071: `StripeCsvBatchImporter` + rake task - One-time batch wrapper - **BLOCKED (user testing)**
- ğŸ“‹ TICKET-072: `ImportError` model + UI - Optional error review (skip if <10 failures) - **PLANNED**

**Implementation Order:**
1. âœ… TICKET-070 (foundation - PERMANENT) - **COMPLETE**
2. ğŸŸ¡ TICKET-071 (one-time import - TEMPORARY) - **BLOCKED (user testing)**
3. Run CSV import (production data migration)
4. TICKET-072 (only if >10 failures - OPTIONAL)
5. Delete TICKET-071 and TICKET-072 code
6. **POST-MVP:** TICKET-026 (webhooks - PERMANENT, reuses TICKET-070)
7. **POST-MVP:** TICKET-027 (mapping admin UI - FUTURE)

---

*For ticket template and conventions, see [CLAUDE.md](../CLAUDE.md)*
